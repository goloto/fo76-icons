# fo76-icons

Это инструментарий и исходный код мода [Goloto's Icons](https://www.nexusmods.com/fallout76/mods/3224) для Fallout 76. 

## Установка

1. Установить `bun` по [инструкции](https://bun.sh/)
2. Выполнить `bun install` в корневой директории проекта

Для работы некоторых скриптов требуется создать файл `.env` и заполнить его по примеру `.env.sample`, указав в нём путь к директориям Fontlab и Fallout 76.

## Структура

 - `assets` - иконки, их черновики, проект шрифта и прочее
 - `input` - исходные файлы игры и шаблон для обзорной страницы
 - `output` - конечные файлы игры, шрифт, unicode-карта и обзорная страница
 - `src` - исходный код утилит

## Скрипты

 - `build-all` - запускает процесс обновления и генерация всех правил и конфигураций иконок
 - `reset-fonts-swf` - обновляет `fonts_*.swf` файлы, копируя их из `/input` директории в `/output`
 - `update-fontlab` - заменяет файл `standard.nam` в директории Fontlab аналогичным файлом из директории `/output`

## Скрипт `build-all`

1. Сортирует категории
2. Сортирует правила иконок
3. Генерирует категории
4. Генерирует иконки
5. Генерирует файл заголовков
6. Генерирует файл конфигурации шрифта
7. Генерирует unicode-карту
8. Генерирует обзорную страницу

## Прочее

### Автоматическая сортировка

Иконки сортируются по следующим правилам:
 - сортируются группы согласно `src\constants\categories-order.ts`
 - порядок иконок повторяет порядок их использования в правилах группы
 - сначала сортируются все иконки, стоящие на первой позиции префикса, затем на второй и т.д.
 - все повторные встречи иконок игнорируются
 - все не-главные иконки группы игнорируются (главные иконки для каждой из группы определены здесь: `src\constants\index.ts`)

### Отступы у некоторых иконок

Иконки событий, лет, кварталов, редкости и дороговизны имеют отступ с левой стороны равный 100. Он необходим для лучшего восприятия этих иконок, т.к. они всегда следуют за другой иконкой.